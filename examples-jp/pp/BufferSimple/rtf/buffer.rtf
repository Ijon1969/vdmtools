{\rtf1\mac\ansicpg10001\uc2 \deff0\deflang1033\deflangfe1041{\upr{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman{\*\falt Times New Roman};}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f4\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Times;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f6\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Courier;}{\f15\fnil\fcharset78\fprq2{\*\panose 00020206090402050803}\'82\'6c\'82\'72 \'96\'be\'92\'a9;}{\f16\fnil\fcharset78\fprq2{\*\panose 00020b06090702050802}\'82\'6c\'82\'72 \'83\'53\'83\'56\'83\'62\'83\'4e;}{\f18\fnil\fcharset78\fprq2{\*\panose 00020206090402050803}@\'82\'6c\'82\'72 \'96\'be\'92\'a9;}{\f19\fnil\fcharset78\fprq2{\*\panose 00020b06090702050802}@\'82\'6c\'82\'72 \'83\'53\'83\'56\'83\'62\'83\'4e;}{\f52\fnil\fcharset78\fprq2 \'83\'71\'83\'89\'83\'4d\'83\'6d\'8a\'70\'83\'53 Pro W3;}{\f53\fnil\fcharset78\fprq2 @\'83\'71\'83\'89\'83\'4d\'83\'6d\'8a\'70\'83\'53 Pro W3;}}{\*\ud{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman{\*\falt Times New Roman};}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f4\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Times;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f6\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Courier;}{\f15\fnil\fcharset78\fprq2{\*\panose 00020206090402050803}\u-211 \'82l\u-205 \'82r \u26126 \'96\'be\u26397 \'92\'a9;}{\f16\fnil\fcharset78\fprq2{\*\panose 00020b06090702050802}\u-211 \'82l\u-205 \'82r \u12468 \'83S\u12471 \'83V\u12483 \'83b\u12463 \'83N;}{\f18\fnil\fcharset78\fprq2{\*\panose 00020206090402050803}@\u-211 \'82l\u-205 \'82r \u26126 \'96\'be\u26397 \'92\'a9;}{\f19\fnil\fcharset78\fprq2{\*\panose 00020b06090702050802}@\u-211 \'82l\u-205 \'82r \u12468 \'83S\u12471 \'83V\u12483 \'83b\u12463 \'83N;}{\f52\fnil\fcharset78\fprq2 \u12498 \'83q\u12521 \'83\'89\u12462 \'83M\u12494 \'83m\u-30254 \'8ap\u12468 \'83S Pro W3;}{\f53\fnil\fcharset78\fprq2 @\u12498 \'83q\u12521 \'83\'89\u12462 \'83M\u12494 \'83m\u-30254 \'8ap\u12468 \'83S Pro W3;}}}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\upr{\stylesheet{\qj\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \lang1033\kerning2\loch\af4\hich\af4\dbch\f15\cgrid \snext0 Normal;}{\s1\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs28\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 1;}{\s2\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 2;}{\s3\li400\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin400\itap0\culi400 \fs20\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 3;}{\*\cs10 \additive Default Paragraph Font;}{\s15\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid \snext15 VDM;}{\*\cs16 \additive \f6\chshdng0\chcfpat8\chcbpat16 \sbasedon10 VDM_COV;}{\*\cs17 \additive \f6\cf6\chshdng0\chcfpat8\chcbpat16 \sbasedon10 VDM_NCOV;}{\s18\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid \sbasedon15 \snext18 VDM_TC_TABLE;}}{\*\ud\uc0{\stylesheet{\qj\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \lang1033\kerning2\loch\af4\hich\af4\dbch\f15\cgrid \snext0 Normal;}{\s1\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs28\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 1;}{\s2\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 2;}{\s3\li400\keepn\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin400\itap0\culi400 \fs20\lang1033\loch\af5\hich\af5\dbch\f16\cgrid \sbasedon0 \snext0 heading 3;}{\*\cs10 \additive Default Paragraph Font;}{\s15\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid \snext15 VDM;}{\*\cs16 \additive \f6\chshdng0\chcfpat8\chcbpat16 \sbasedon10 VDM_COV;}{\*\cs17 \additive \f6\cf6\chshdng0\chcfpat8\chcbpat16 \sbasedon10 VDM_NCOV;}{\s18\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid \sbasedon15 \snext18 VDM_TC_TABLE;}}}}{\info{\upr{\title class Buffer}{\*\ud\uc0{\title class Buffer}}}{\upr{\author \'8d\'b2\'8c\'b4 \'90\'4c}{\*\ud\uc0{\author {\uc2\u20304 \'8d\'b2\u21407 \'8c\'b4 \u20280 \'90L}}}}{\upr{\operator \'8d\'b2\'8c\'b4 \'90\'4c}{\*\ud\uc0{\operator {\uc2\u20304 \'8d\'b2\u21407 \'8c\'b4 \u20280 \'90L}}}}{\creatim\yr2005\mo11\dy10\hr16\min32}{\revtim\yr2005\mo11\dy10\hr16\min32}{\version1}{\edmins0}{\nofpages1}{\nofwords0}{\nofchars0}{\nofcharsws0}{\vern16525}}\paperw11906\paperh16838\margl1153\margr1153\margt1985\margb1701\gutter0 {\*\fchars !%),.:\'3b?]\'7d\'81\'91\'81\'8b\'81\'66\'81\'68\'81\'f1\'81\'8c\'81\'8d\'81\'8e\'81\'41\'81\'42\'81\'58\'81\'72\'81\'74\'81\'76\'81\'78\'81\'7a\'81\'6c\'81\'4a\'81\'4b\'81\'54\'81\'55\'81\'45\'81\'52\'81\'53\'81\'49\'81\'93\'81\'6a\'81\'43\'81\'44\'81\'46\'81\'47\'81\'48\'81\'6e\'81\'70\'a1\'a3\'a4\'a5\'de\'df}{\*\lchars $([\'80\'7b\'81\'92\'5c\'81\'65\'81\'67\'81\'71\'81\'73\'81\'75\'81\'77\'81\'79\'81\'6b\'81\'90\'81\'69\'81\'6d\'81\'6f\'a2\'81\'8f}\deftab960\widowctrl\ftnbj\aenddoc\formshade\horzdoc\dgmargin\dghspace180\dgvspace200\dghorigin1701\dgvorigin1985\dghshow0\dgvshow2\lnongrid\viewkind4\viewscale150\splytwnine\ftnlytwnine\htmautsp\useltbaln\alntblind\lytcalctblwd\lyttblrtgr\lnbrkrule \fet0\sectd \linex0\headery851\footery992\colsx425\endnhere\sectlinegrid400\sectspecifyl {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta \dbch .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta \dbch .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta \dbch .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta \dbch )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb \dbch (}{\pntxta \dbch )}}\pard\plain \s15\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid {\hich\af2\dbch\af0\loch\f2 class Buffer\par \hich\af2\dbch\af0\loch\f2 --$Id: buffer.vpp,v 1.1 2005/06/29 06:31:31 shin Exp $\par \par \hich\af2\dbch\af0\loch\f2 instance variables\par \hich\af2\dbch\af0\loch\f2 data : [char] := nil;\par \par \hich\af2\dbch\af0\loch\f2 operations\par \hich\af2\dbch\af0\loch\f2 public Put: char ==> ()\par \hich\af2\dbch\af0\loch\f2 Put (item) ==\par \tab \hich\af2\dbch\af0\loch\f2 data := item;\par \par \hich\af2\dbch\af0\loch\f2 public Get: () ==> char\par \hich\af2\dbch\af0\loch\f2 Get () ==\par \tab \hich\af2\dbch\af0\loch\f2 let oldData = data \par \tab \hich\af2\dbch\af0\loch\f2 in\par \tab \hich\af2\dbch\af0\loch\f2 ( data :=nil;\par \tab \hich\af2\dbch\af0\loch\f2 retur\hich\af2\dbch\af0\loch\f2 n oldData );}{\par }\pard\plain \qj\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \lang1033\kerning2\loch\af4\hich\af4\dbch\f15\cgrid {\loch\af4\hich\af4\dbch\f15 \u12371\'82\'b1\u12398\'82\'cc}{\hich\af4\dbch\af15\loch\f4 sync}{\loch\af4\hich\af4\dbch\f15 \u12364\'82\'aa\u28961\'96\'b3\u12356\'82\'a2\u12392\'82\'c6\u12289\'81\'41\u28040\'8f\'c1\u-29509\'94\'ef\u-32763\'8e\'d2\u12399\'82\'cd\u12487\'83\'66\u12540\'81\'5b\u12479\'83\'5e\u12434\'82\'f0\u21462\'8e\'e6\u12426\'82\'e8\u25613\'91\'b9\u12397\'82\'cb\u12390\'82\'c4\u12289\'81\'41}{\hich\af4\dbch\af15\loch\f4 nil}{\loch\af4\hich\af4\dbch\f15 \u12487\'83\'66\u12540\'81\'5b\u12479\'83\'5e\u12434\'82\'f0\u-30035\'93\'c7\u12418\'82\'e0\u12358\'82\'a4\u12392\'82\'c6\u12377\'82\'b7\u12427\'82\'e9\u12290\'81\'42}{\par }\pard\plain \s15\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid {\hich\af2\dbch\af0\loch\f2 sync\par \tab \hich\af2\dbch\af0\loch\f2 per Put => data = nil;\par \tab \hich\af2\dbch\af0\loch\f2 per Get => data <> nil;\par \tab \hich\af2\dbch\af0\loch\f2 mutex(Put, Get);\par \tab \par \hich\af2\dbch\af0\loch\f2 end Buffer\par }\pard\plain \qj\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \lang1033\kerning2\loch\af4\hich\af4\dbch\f15\cgrid {\par }\pard\plain \s18\widctlpar\hyphpar0\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \cfpat8\cbpat16 \f2\fs20\lang1033\cgrid {\hich\af2\dbch\af0\loch\f2 Buffer}{\lang1030 \par }\pard\plain \qj\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \lang1033\kerning2\loch\af4\hich\af4\dbch\f15\cgrid {\dbch\f52 \par }}